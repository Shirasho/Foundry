@using Microsoft.AspNetCore.Components.Authorization

<nav class="navbar navbar-expand-lg navbar-clear bg-dark-2">
    <div class="container pr-0 pr-xl-3">

        <!--TODO: Figure out collapse behavior-->
        <button class="navbar-toggler ml-n2 mr-2" type="button" data-toggle="offcanvas">
            <span class="navbar-toggler-icon" />
        </button>

        <a class="navbar-brand order-lg-1 mx-auto ml-lg-0 pr-lg-2 mr-lg-4" href="/">
            <!--TODO: Put an image here.-->
            <!--<img class="d-none d-lg-block" src="~/images/brand.png" alt="Foundry" width="175"/>-->
            <!--<img class="d-lg-none" src="~/images/brand-logo.png" alt="Foundry" width="64" />-->
            <CompanyLogo Scale=".4" />
        </a>

        <div class="order-lg-2">
            <ul class="navbar-nav font-weight-bold">
                <li class="nav-item">
                    <NavLink class="nav-link" href="some/path">Simple Link</NavLink>
                </li>
                <li class="nav-item dropdown dropdown-hover">
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Services</a>
                    <div class="dropdown-menu fade-up">
                        <NavLink class="dropdown-item" href="guild-forge">GuildForge</NavLink>
                    </div>
                </li>
            </ul>
        </div>

        @*<AuthorizeView Roles="" Policy="guild-editor-level-1"></AuthorizeView>*@

        <AuthorizeView>
            <NotAuthorized>
                <div id="login-btn" class="d-flex align-items-center order-lg-3 ml-lg-auto">
                    <NavLink class="btn btn-primary" href="/account" Match="NavLinkMatch.All">
                        <span class="d-none d-lg-inline">Log In</span>
                    </NavLink>
                </div>
            </NotAuthorized>
            <Authorizing>
                <!-- An example of displaying something when authenticating. TODO: Something fancy. -->
                <span class="order-lg-3">Authenticating...</span>
            </Authorizing>
            <Authorized>
                <span class="order-lg-3">@context.User.Identity!.Name</span>
            </Authorized>
        </AuthorizeView>
    </div>
</nav>